<section id="hero">
  <div class="hero-content">
    <h1>¡Hola! Soy <span id="heroName" style="color:var(--cristal)"></span></h1>
    <p>Desarrollador Backend · NestJS | Express | Django</p>

    <div class="hero-btns">
      <button class="btn primary" data-scroll="#projects">Ver Proyectos</button>
      <a
        href="data:text/plain;charset=utf-8,CV%20Joel%20Hernández"
        class="btn secondary"
        download="CV_Joel_Hernández.txt">Descargar CV</a
      >
    </div>
  </div>
</section>

<style>
  #hero {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
  }
  .hero-content h1 {
    font-size: clamp(2rem, 6vw, 3rem);
  }
  .hero-content p {
    margin: 0.5rem 0 2rem;
    color: var(--cristal);
  }

  .hero-btns {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }
  .btn {
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius);
    transition: transform var(--transition);
  }
  .btn.primary {
    background: var(--cristal);
    color: var(--abismo);
  }
  .btn.secondary {
    border: 1px solid var(--cristal);
    color: var(--cristal);
  }
  .btn:hover {
    transform: translateY(-2px);
  }
</style>

<script>
  // Typing effect para el nombre en el hero (en bucle)
  let isTyping = false;
  let typingTimer: number;

  function typewriterEffect(
    element: HTMLElement,
    text: string,
    speed: number = 120
  ) {
    if (isTyping) return;
    isTyping = true;

    let i = 0;
    element.textContent = "";

    const timer = setInterval(() => {
      if (i < text.length) {
        element.textContent += text.charAt(i);
        i++;
      } else {
        clearInterval(timer);
        isTyping = false;
        // Esperar 1 minuto antes de repetir el efecto
        typingTimer = window.setTimeout(() => {
          startTypingLoop();
        }, 60000); // 60 segundos
      }
    }, speed);
  }

  function startTypingLoop() {
    const heroName = document.getElementById("heroName");
    if (heroName) {
      typewriterEffect(heroName, "Joel", 150);
    }
  }

  // Iniciar el efecto cuando carga la página
  document.addEventListener("DOMContentLoaded", () => {
    // Esperar un poco antes del primer efecto para que se vea el loading
    setTimeout(() => {
      startTypingLoop();
    }, 800);
  });
</script>
